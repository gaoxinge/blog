<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>赖明星的知乎回答 - blog</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "\u8d56\u660e\u661f\u7684\u77e5\u4e4e\u56de\u7b54";
    var mkdocs_page_input_path = "python_\u8d56\u660e\u661f\u7684\u77e5\u4e4e\u56de\u7b54.md";
    var mkdocs_page_url = "/python_\u8d56\u660e\u661f\u7684\u77e5\u4e4e\u56de\u7b54/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> blog</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">博客</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../index_%E7%9B%AE%E5%BD%95/">目录</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_python/">python</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E8%A7%84%E8%8C%83/">规范</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E7%BC%A9%E8%BF%9B/">缩进</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E7%BC%96%E7%A0%81/">编码</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E6%A8%A1%E5%9D%97/">模块</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E5%BA%93/">库</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E6%A0%87%E5%87%86%E5%BA%93/">标准库</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E8%B0%83%E8%AF%95/">调试</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E6%B5%8B%E8%AF%95/">测试</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_c/">c</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../python_%E8%91%A3%E4%BC%9F%E6%98%8E%E7%9A%84%E7%9F%A5%E4%B9%8E%E5%9B%9E%E7%AD%94/">董伟明的知乎回答</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">赖明星的知乎回答</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#python">python之禅</a></li>
                
            
                <li class="toctree-l3"><a href="#_1">切片</a></li>
                
            
                <li class="toctree-l3"><a href="#_2">列表推导式</a></li>
                
            
                <li class="toctree-l3"><a href="#_3">内置函数</a></li>
                
            
                <li class="toctree-l3"><a href="#_4">交换</a></li>
                
            
                <li class="toctree-l3"><a href="#_5">上下文管理器</a></li>
                
            
                <li class="toctree-l3"><a href="#_6">报错</a></li>
                
            
                <li class="toctree-l3"><a href="#_7">装饰器</a></li>
                
            
                <li class="toctree-l3"><a href="#_8">动态类型语言</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../c_c/">c</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../c%2B%2B_c%2B%2B/">c++</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../c%2B%2B_%E8%A7%84%E8%8C%83/">规范</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">blog</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>赖明星的知乎回答</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>﻿整理了赖明星的知乎回答。</p>
<ul>
<li><a href="https://www.zhihu.com/question/19794855/answer/129270643">怎么样才算是精通Python</a></li>
<li><a href="https://www.zhihu.com/question/21408921/answer/129036707">怎样才能写出pythonic的代码</a></li>
<li><a href="https://www.zhihu.com/question/37751951/answer/73425339">Python有哪些优雅的代码实现</a></li>
</ul>
<h2 id="python">python之禅</h2>
<pre><code class="python">&gt;&gt;&gt; import this
The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
</code></pre>

<h2 id="_1">切片</h2>
<p>切片操作由三部分组成：起点，终点，步长。</p>
<pre><code class="python">&gt;&gt;&gt; L = [1, 2, 3, 4, 5, 6, 7, 8, 9]
&gt;&gt;&gt; L[2:-2]
[3, 4, 5, 6, 7]
&gt;&gt;&gt; L[-2:2] # 表示L[-2:2:1]
[]
&gt;&gt;&gt; L[-2:2:-1]
[8, 7, 6, 5, 4]
</code></pre>

<h2 id="_2">列表推导式</h2>
<pre><code class="python">&gt;&gt;&gt; [i*i for i in range(1, 21) if i% 2 == 0]
[4, 16, 36, 64, 100, 144, 196, 256, 324, 400] # 列表
&gt;&gt;&gt; {i*i for i in range(1, 21) if i% 2 == 0}
set([64, 144, 36, 100, 324, 256, 16, 400, 196, 4]) # 集合
&gt;&gt;&gt; {i:i*i for i in range(1, 21) if i% 2 == 0}
{2: 4, 4: 16, 6: 36, 8: 64, 10: 100, 12: 144, 14: 196, 16: 256, 18: 324, 20: 400} # 字典

&gt;&gt;&gt; [item for item in os.listdir(os.path.expanduser('.')) if os.path.isfile(item)]
&gt;&gt;&gt; [item for item in os.listdir(os.path.expanduser('.')) if os.path.isdir(item)]
&gt;&gt;&gt; {item: os.path.realpath(item) for item in os.listdir(os.path.expanduser('.'))}
</code></pre>

<h2 id="_3">内置函数</h2>
<ul>
<li>sum</li>
<li>sort</li>
<li>max</li>
<li>min</li>
<li>any</li>
</ul>
<pre><code class="python">any(...)
    any(iterable) -&gt; bool

    Return True if bool(x) is True for any x in the iterable.
    If the iterable is empty, return False.
</code></pre>

<ul>
<li>all</li>
</ul>
<pre><code class="python">all(...)
    all(iterable) -&gt; bool

    Return True if bool(x) is True for all values x in the iterable.
    If the iterable is empty, return True.
</code></pre>

<ul>
<li>enumerate</li>
</ul>
<pre><code class="python">L = [i*i for i in range(5)]

for index, data in enumerate(L):
    print index + 1, ':', data

for index, data in enumerate(L,1):
    print index, ':', data
</code></pre>

<ul>
<li>reversed</li>
</ul>
<pre><code class="python">L = [1, 2, 3, 4]

for item in L[::-1]:
    print item

for item in reversed(L):
    print item
</code></pre>

<h2 id="_4">交换</h2>
<p>Bad:</p>
<pre><code class="python">t = a
a = b
b = t
</code></pre>

<p>Good:</p>
<pre><code class="python">a, b = b, a
</code></pre>

<h2 id="_5">上下文管理器</h2>
<p>Bad:</p>
<pre><code class="python">try:
    f = open('/path/to/file', 'r')
    print f.read()
finally:
    if f:
        f.close()
</code></pre>

<p>Good:</p>
<pre><code class="python">with open('/path/to/file', 'r') as f:
    print f.read()
</code></pre>

<h2 id="_6">报错</h2>
<p>Bad:</p>
<pre><code class="python">import sys
sys.stderr.write('It failed!')
raise SystemExit(1)
</code></pre>

<p>Good:</p>
<pre><code class="python">raise SystemExit('It failed!')
</code></pre>

<h2 id="_7">装饰器</h2>
<p>Bad:</p>
<pre><code class="python">class Store(object):
    def get_food(self, username, food):
        if username != 'admin':
            raise Exception(&quot;This user is not allowed to get food&quot;)
        return self.storage.get(food)

    def put_food(self, username, food):
        if username != 'admin':
            raise Exception(&quot;This user is not allowed to put food&quot;)
        self.storage.put(food)
</code></pre>

<p>Better:</p>
<pre><code class="python">def check_is_admin(username):
    if username != 'admin':
        raise Exception(&quot;This user is not allowed to get food&quot;)

class Store(object):
    def get_food(self, username, food):
        check_is_admin(username)
        return self.storage.get(food)

    def put_food(self, username, food):
        check_is_admin(username)
        return self.storage.put(food)
</code></pre>

<p>Good:</p>
<pre><code class="python">def check_is_admin(f):
    def wrapper(*args, **kwargs):
        if kwargs.get('username') != 'admin':
            raise Exception(&quot;This user is not allowed to get food&quot;)
        return f(*arg, **kargs)
    return wrapper

class Storage(object):
    @check_is_admin
    def get_food(self, username, food):
        return self.storage.get(food)

    @check_is_admin
    def put_food(self, username, food):
        return storage.put(food)
</code></pre>

<h2 id="_8">动态类型语言</h2>
<p>Bad:</p>
<pre><code class="python">def a():
    return 'a'

def b():
    return 'b'

def c():
    return 'c'

cmd = raw_input('&gt; ')
if cmd == 'a':
    print a()
elif cmd == 'b':
    print b()
elif cmd == 'c':
    print c()
else:
    raise Exception('Action not found')
</code></pre>

<p>Good:</p>
<pre><code class="python">class A:
    def fetch_func(self, action):
        func= getattr(self, action, None)
        return func

    def execute(self, action):
        func= self.fetch_func(action)
        if func is None:
            return False
        return func()

    def a(self):
        return 'a'

    def b(self, msg):
        return 'b'

    def c(self, msg):
        return 'c'

i = A()
cmd = raw_input('&gt; ')
result = i.execute(cmd)
if result:
    print result
else:
    raise Exception('Action not found')
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../c_c/" class="btn btn-neutral float-right" title="c">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../python_%E8%91%A3%E4%BC%9F%E6%98%8E%E7%9A%84%E7%9F%A5%E4%B9%8E%E5%9B%9E%E7%AD%94/" class="btn btn-neutral" title="董伟明的知乎回答"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../python_%E8%91%A3%E4%BC%9F%E6%98%8E%E7%9A%84%E7%9F%A5%E4%B9%8E%E5%9B%9E%E7%AD%94/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../c_c/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
